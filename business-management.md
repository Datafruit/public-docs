# 业务表管理
![](/assets/business/1.png)

TSA中业务表管理可以近似理解为表关联功能，即在数据分析工作中经常需要关联维度表，然后按照维度进行统计分析。而业务表管理就是提供一个左连接的功能。



例如，一个项目为：机票订单-业务分析，该表存放明细订单数据，而用户“注册渠道”则存放在MySQL数据库的member表，需要利用统计不同注册渠道的订单分布，可以利用业务表管理功能将注册渠道关联过去，即可使用该维度进行统计分析。

## **创建业务表**
![](/assets/business/2.png)

点击创建业务表，进入创建业务表页面。


![](/assets/business/3.png)


设置业务表关联的信息，即可将该项目表及MySQL里面的业务表关联起来。具体需要设置信息说明如下：

* 业务表名称：可自定义命名一个业务表的名称，如这里命名“member”；
* 数据库类型：目前提供了MySQL及PostgreSQL两种数据库类型，如这里选择“MySQL”；
* JDBC地址：即MySQL接口的JDBC的URL，也访问相应数据库的地址;
* 数据库表名称：填写数据库里面所对应数据表名称；
* 数据库账号：填写对应的数据库账号；
* 数据库密码：填写对应的数据库密码；
* 设置key字段关联：选择业务表关联主键字段；
* 关联：选择项目表关联主键字段。


其中“设置key字段关联”及“关联”选项，需要点击“测试连接”按钮且已经成功连接的前提下才会显示出来。


值得注意的是：谷歌Chrome浏览器会同步记住TSA登录账号及密码，请用户修改数据库账号/密码为数据库的账号及密码。


![](/assets/business/4.png)

最终关联成功业务表后，会在业务表管理列表显示出一条相关记录。



## **创建维度**
关联业务表后，需要用到业务表上的维度，如需要用到member表里面的“注册渠道”维度进行订单统计。此时需创建一个新维度，该维度是来源业务表管理的。创建方式如下：

![](/assets/business/5.png)

在维度管理菜单下点击“创建维度“。然后设置维度的相关配置：

![](/assets/business/6.png)

如图所示，打算使用member表的channel字段，需要新创建一个新维度，可以按照以下步骤进行：
1. 定义一个新的名称，这里设置为“mychannel”,同时需要设置一个别名，命名为：注册渠道；
2. 设置创建方式为：业务表维度；
3. 选择关联业务表中所需要用的数据表及字段，这里选择的业务表名称为“member“，业务表字段选择：channel;
4. 设置最大记录数，主要是根据业务表的记录来设置，默认为10000；如业务表记录有50万条，则此处设置为 500000，建议不要超过100万；
5. NULL值填充：针对项目主表有的主键有空值的处理，可以填写一个标识；
6. 未匹配填充：针对项目主表存在而业务表不存在，则视为不匹配。

对于NULL值填充、未匹配填充，主要是针对以下这些情况而设置：

![](/assets/business/7.png)

点击提交之后，我们就得到了一个新的维度，该维度可以用来进行分组统计。

注意：通过业务表创建的新维度，目前仅支持为String类型。

最后，可以在多维分析直接使用“注册渠道”这个新维度进行订单汇总统计分析，如图所示。

![](/assets/business/8.png)







