# 查询条件设置功能
## 筛选
&emsp;&emsp;筛选一栏可以帮助您在分析过程中聚焦在关键数据上，只关注必要的数据或排除不正确数据。您可以将需要进行筛选操作的维度字段拖拽到筛选栏中，在选项卡中进行设置。
不同的字段类型对应不同的选项设置：
### 筛选时间类型的维度
默认会为您提供两种可选日期范围的列表：
1. 相对时间：“今天”、“本周”、“最近7天”、“最近30天”、“今年”等常用的动态时间范围。
2. 相对当前时刻：“最近5分钟”“最近30分钟”“最近1小时”“最近6小时”等常用的动态时刻范围。
![](/assets/query-condition/screen-1.png)

若您需要的日期范围未列在列表中，您也可以自定义日期筛选范围。	 
![](/assets/query-condition/screen-2.png)
 
### 筛选数字类型的维度

您可以进行数值的区间范围的设置或排除。
1. 使用“包含”进行数值区间的过滤设置
2. 使用“排除”进行数值区间的排除设置
* 操作：
1. 通过拖动横条进行随意设置，横条的长度为可筛选的整体范围；
2. 通过输入精准的数值进行区间设定。
![](/assets/query-condition/screen-3.png)

您可以进行单个数值的设置或排除。
1. 使用“等于”进行单个数值的过滤设置
2. 使用“不等于”进行单个数值的排除设置
3. 使用“为空”进行空数值的过滤设置
4. 使用“非空”进行空数值的排除设置
5. 使用“大于（等于）”进行单个数值的过滤设置
6. 使用“小于（等于）”进行单个数值的过滤设置
* 操作：通过输入精准的数值进行设定。	

	![](/assets/query-condition/screen-4.png)

 
### 筛选字符串类型的维度
&emsp;&emsp;SUGO-BTSA对字符串类型数值，也提供了强大的检索能力，您可以进行精确匹配，模糊匹配，甚至正则匹配。

您可以使用普通功能进行快速选择。
1. 使用“精确匹配”进行单个选项的过滤设置
2. 使用“包含”进行部分选项的过滤设置
3. 使用“排除”进行部分选项的排除设置
* 操作：
1. 通过搜索关键词查找目标选项；
2. 勾选目标选项即可。

	![](/assets/query-condition/screen-5.png)

您可以使用高级功能进行快速过滤。
1. 使用“精确匹配”进行单个数值的过滤设置
2. 使用“为空”进行空数值的过滤设置
3. 使用“开头是”进行匹配数值开头符合条件的过滤设置
4. 使用“结尾是”进行匹配数值结尾符合条件的过滤设置
5. 使用“含有”进行匹配符合数值内容条件的过滤设置
6. 使用“正则匹配”输入正则表达式进行匹配符合数值内容条件的过滤设置
* 操作：
1. 在文本框内通过输入匹配项进行设定；
2. 开启“排除匹配项”，即为前面6项功能的反向结果。	 
	![](/assets/query-condition/screen-6.png)

### 特殊筛选器——钉板  <span id = "pinblock"></span>
&emsp;&emsp;您可以使用钉板固定某个维度的具体值来进⾏同⼀维度下不同⻆度的对⽐，它是一个特殊的筛选器，它能清晰地告诉你该维度从高到低的数值排序，而不是零散的值。
#### 将维度拖拽到钉板上
&emsp;&emsp;如固定页面数量前五的页面进行不同角度的分析：
 	![](/assets/query-condition/pinblock-1.gif)
#### 钉板的操作
1. 维度值排序功能
您可以根据业务需求来切换维度值的排序，默认以总记录数的降序（由高到低）排列。点击切换以总记录数的升序（由低到高）进行排列。

	![](/assets/query-condition/pinblock-2.gif)
2. 开启搜索维度值的功能
您可以通过搜索功能，在众多维度值中快速查找到需要的维度值。
点击“搜索”开启搜索维度值的功能，输入指标关键词后相关的维度值会在其下方显示。
	
	![](/assets/query-condition/pinblock-3.gif)

3. 删除维度
您可以点击删除将钉板上的维度清空。

	![](/assets/query-condition/pinblock-4.gif)

***

## 维度
&emsp;&emsp;维度一栏可以帮助您在分析过程中将查看数值使用特定的角度或者类目去分组展示。您可以简单灵活的对分析主题去设定不同的分析角度组合。维度介绍具体详情见[维度管理](/dimension-management.md)

### 按时间类型进行分组

您可以根据业务需求进行调整分组条件设定：
1. 选择分组的时间粒度：时间粒度指的分组的基本单位（如按一周进行分组）。
可选择“分钟”“小时”“天”“周”“月”“年”6种时间单位，而具体粒度的选择是根据不同的时间单位可进行不同程度的调节。
2. 调整分组后的排列条件：按时间或总数进行降序升序排列。
3. 显示数量：选择分组后显示的结果数，最大数量为100，可自定义输入1-100的数量。
![](/assets/query-condition/group-1.png)	 

### 按数字类型进行分组

您可以根据业务需求进行调整分组条件设定：
1. 选择分组的粒度：粒度指的分组的基本单位（如以10作为分组的间隔）。可选择“5”“10”“100”“1000”4种分组间隔
2. 调整分组后的排列条件：按维度或总数进行降序升序排列。
3. 显示数量：选择分组后显示的结果数，最大数量为100，可自定义输入1-100的数量。
![](/assets/query-condition/group-2.png)	 
 
### 按字符串类型进行分组
您可以根据业务需求进行调整分组条件设定：
1. 调整分组后的排列条件：按维度或总数进行降序升序排列
2. 显示数量：选择分组后显示的结果数，最大数量为100，可自定义输入1-100的数量。
![](/assets/query-condition/group-3.png)

***

## 数值
&emsp;&emsp;数值一栏可以帮助您汇总统计数量，而它的结果往往是根据筛选与维度的设置进行计算的。在这里，您可以对指标进行统计计算，也可以对维度进行快速统计。

### 指标统计计算
&emsp;&emsp;我们建议您为您的分析目标建立一套指标体系，合理准确的指标能为您提供正确的决策参考价值。创建指标的指引具体详情见[指标管理](/indicator-management.md)

您可以对指标数值进行排序与添加环比分析的操作
1. 调整结果排序：选择按指标进行升序降序；
2. 高级计算-环比：即统计上一期的数值与本期数值的增长率（如本期为7月，则上一期为6月）。注意：环比只支持存在筛选的时间范围指标计算。
![](/assets/query-condition/count-1.png)
![](/assets/query-condition/count-2.png)

### 维度统计计算
&emsp;&emsp;将维度拖拽到数值栏后，您会注意到字段里显示着“（计数）”，这代表这个数值的计算方式，您也可以按照实际需求切换计算方式为“求和”“平均值” “计数”、“去重计数”、“最大值”、“最小值”。

&emsp;&emsp;根据不同的字段类型，能计算的方式也会有所不同：

&emsp;&emsp;您可以对数字类型进行“求和”“平均值” “计数”、“去重计数”、“最大值”、“最小值”的计算。
![](/assets/query-condition/count-3.png)

&emsp;&emsp;您可以对字符串类型进行 “计数”、“去重计数”的计算。	 
	![](/assets/query-condition/count-4.png)

除此之外， 您可以进行以下操作：
1. 开启或关闭排除空值对结果的影响；
2. 进行升序降序的选择；
3. 进行高级计算-环比
4. 对数据结果的显示格式作进一步调整：显示数值或百分比；自定义小数位个数；取消使用千分位作为分隔符的数据样式。
	![](/assets/query-condition/count-5.png)
 
附数值统计⽅式
1. 求和：将维度的取值进⾏求和
2. 平均值：将维度的取值进行计算算术平均值
3. 计数：将维度的取值进行个数统计
4. 去重计数：将维度的取值进行独⽴的个数统计（排除重复出现的）
5. 最⼤值：求出维度的取值中最⼤数值。
6. 最⼩值：求出维度的取值中最小数值。
7. 排除空值：关闭状态为显示维度的空值；开启状态为排除维度的空值（即不显示空值）
8. 环比计算：环比一般情况下是今年第n月与今年第n-1月比。环比是本期统计数据与上期统计数据比较，用以说明本统计周期数据与前一统计周期数据相比的变化量。例如，本期2月比今年1月，本期6月比今年5月等。 


关于多维分析的介绍：
* [多维分析](data-index.md)
* [界面介绍](data-index.md#intro)
* [维度指标](dimen-quota.md)
* [图表类型](chart-intro.md)