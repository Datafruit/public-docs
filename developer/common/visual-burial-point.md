## SDK可视化埋点流程图
![](/assets/visualization-sdk-flow/snapshotFlow.png)
## 流程图说明
### 1.打开前端扫码页面
在前端界面，进入相对应的项目，点击可视化埋点按钮，打开二维码界面。
### 2.请求二维码建立连接
埋点前端会请求埋点服务器，与埋点服务器建立连接，请求二维码信息。
### 3.返回包含秘钥等信息的二维码
建立连接后，埋点服务器返回包含秘钥等信息的二维码返回给埋点前端，等待手机扫码。
### 4.使用手机进行扫码
在保持前端与手机在同一个网络的情况下，打开手机扫码界面扫描埋点前端界面二维码(ios推荐使用iPhone自带扫码器)。
### 5.扫码页面跳转打开APP
扫描二维码后，获取到APP信息，会跳转到相对应的APP，进入APP后，根据回传到APP的信息，APP会尝试建立socket连接。
### 6.与前端服务器建立连接
APP会与埋点服务器建立socket连接。
### 7.请求用户设备相关信息
埋点服务器会通过socket向APP请求设备的信息。
### 8.返回设备相关信息
APP会通过socket向埋点服务器发送设备信息。
### 9.展示设备相关信息
埋点服务器收到设备信息后，会向埋点前端展示相关的设备信息。
### 10.请求APP当前页面信息
埋点服务器会通过socket向APP请求当前的页面信息
### 11.返回页面截图，控件树信息
APP会通过socket向埋点服务器发送当前界面截图，以及控件结构树等相关信息。
### 12.展示APP截图和控件树
埋点服务器会通过埋点前端展示截图，同时根据结构树进行控件位置展示。
### 13.用户圈选埋点
用户通过前端界面的操作，对APP界面进行埋点。
